<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Handlebars sandbox</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/styles/sunburst.min.css">
    <style>
        body { font-family: Georgia, serif; margin-left: auto; margin-right: auto; width: 1300px; }
        #hs-title { text-align: center; }
        #hs-template, #hs-context { width: 640px; height: 200px; }
        #hs-template { float: left; }
        #hs-context { float: right; }
        #hs-options { clear: both; padding-top: 15px; text-align: center; }
        #hs-rendered { border: 1px dashed; }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js"></script>
    <script>
        function render() {
            try {
                var template = Handlebars.compile($('#hs-template').val()),
                    context = eval("(" + $('#hs-context').val() + ")"),
                    html = template(context);
                if ($("#hs-strip")[0].checked) {
                    html = html.replace(/\n\s*\n/g, '\n');
                }
                $('#hs-output').html(hljs.highlightAuto(html).value);
                $('#hs-rendered').html(html);
            } catch (error) {
                $('#hs-output').html(error.toString());
                $('#hs-rendered').html('');
            }
        }
        $(document).ready(function() {
            $('input').bind('click', render);
            $('textarea').bind('input', render);
            render();
        });
    </script>
</head>
<body>
    <h1 id="hs-title"><a href="http://handlebarsjs.com/">Handlebars</a> sandbox</h1>
    <textarea id="hs-template" title="Template">
<h2>{{header}}</h2>

{{#if persons}}
<ul>
{{#persons}}
    <li>{{name}}: <em>{{role}}</em> <small>(age: {{age}})</small></li>
{{/persons}}
</ul>
{{else}}
Nobody here.
{{/if}}

<h2>Series</h2>
{{#if series}}
<ul>{{#series}}
    <li>f({{this.[0]}}) = {{this.[1]}}</li>
{{/series}}
</ul>
{{else}}
No values.
{{/if}}</textarea>
    <textarea id="hs-context" title="Context">
{
  "header": "People",
  "persons": [
    {"name": "John", "role": "CEO", "age": 47},
    {"name": "Mike", "role": "VP", "age": 53},
    {"name": "Paul", "role": "Sales Manager", "age": 32}
  ],
  "series": function() {
    var a = [], i;
    for (i=0; i<=10; i++) a.push([i, Math.pow(2, i)]);
    return a;
  }
}</textarea>
    <p id="hs-options"><input type="checkbox" id="hs-strip" checked><label for="hs-strip">Strip blank lines</label></p>
    <pre><code id="hs-output" class="hljs" title="Output"></code></pre>
    <div id="hs-rendered" title="Rendered"></div>
    <a href="https://github.com/malinges/handlebars-sandbox"><img style="position: absolute; top: 0; right: 0; border: 0;" alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
</body>

</html>
